<view class="container">
  <!-- æ¬¢è¿åŒºåŸŸ -->
  <view class="welcome-section">
    <view class="welcome-text">{{welcomeText}}</view>
    <view class="welcome-subtext">{{welcomeSubtext}}</view>
  </view>
  
  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-container">
    <view class="stat-card total" bindtap="goToManage" data-status="all">
      <view class="stat-number">{{totalEquipments}}</view>
      <view class="stat-label">æ€»å™¨ææ•°</view>
    </view>
    <view class="stat-card available" bindtap="goToManage" data-status="åœ¨åº“">
      <view class="stat-number">{{availableEquipments}}</view>
      <view class="stat-label">å¯ç”¨å™¨æ</view>
    </view>
    <view class="stat-card borrowed" bindtap="goToManage" data-status="å€Ÿå‡º">
      <view class="stat-number">{{borrowedEquipments}}</view>
      <view class="stat-label">å·²å€Ÿå‡º</view>
    </view>
  </view>
  
  <!-- æœ€è¿‘æ´»åŠ¨ -->
  <view class="section">
    <view class="section-title">æœ€è¿‘æ´»åŠ¨</view>
    <view class="activity-list" wx:if="{{recentActivities.length > 0}}">
      <view wx:for="{{recentActivities}}" wx:key="id" class="activity-item" bindtap="goToDetail" data-id="{{item.equipmentId}}">
        <view class="activity-icon activity-icon-{{item.type === 'æ·»åŠ ' ? 'add' : item.type === 'å€Ÿå‡º' ? 'lend' : item.type === 'å½’è¿˜' ? 'return' : 'delete'}}">
          {{item.type === 'æ·»åŠ ' ? '+' : item.type === 'å€Ÿå‡º' ? 'å€Ÿ' : item.type === 'å½’è¿˜' ? 'è¿˜' : 'åˆ '}}
        </view>
        <view class="activity-content">
          <view class="activity-text">{{item.content}}</view>
          <view class="activity-time">{{item.formattedTime}}</view>
        </view>
      </view>
    </view>
    
    <view class="no-activity" wx:else>
      <view class="empty-icon">ğŸ“‹</view>
      <view class="empty-text">æš‚æ— æ´»åŠ¨è®°å½•</view>
      <view class="empty-hint">æ·»åŠ æˆ–æ“ä½œå™¨æåå°†æ˜¾ç¤ºè®°å½•</view>
    </view>
  </view>
  
  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="action-button" bindtap="toggleMenu">+</view>
  
  <!-- æ“ä½œèœå• -->
  <view class="action-menu {{isMenuOpen ? 'open' : ''}}">
    <view class="menu-item" bindtap="scanCode">
      <view class="menu-icon">æ‰«</view>
      <view class="menu-text">æ‰«ç æ·»åŠ </view>
    </view>
    <view class="menu-item" bindtap="goToBatchAdd">
      <view class="menu-icon">æ‰¹</view>
      <view class="menu-text">æ‰¹é‡æ·»åŠ </view>
    </view>
    <view class="menu-item" bindtap="goToAddPage">
      <view class="menu-icon">å•</view>
      <view class="menu-text">å•ä¸ªæ·»åŠ </view>
    </view>
  </view>
</view>
