<view class="container">
  <!-- 欢迎区域 -->
  <view class="welcome-section">
    <view class="welcome-text">{{welcomeText}}</view>
    <view class="welcome-subtext">{{welcomeSubtext}}</view>
  </view>
  
  <!-- 统计卡片 -->
  <view class="stats-container">
    <view class="stat-card total" bindtap="goToManage" data-status="all">
      <view class="stat-number">{{totalEquipments}}</view>
      <view class="stat-label">总器材数</view>
    </view>
    <view class="stat-card available" bindtap="goToManage" data-status="在库">
      <view class="stat-number">{{availableEquipments}}</view>
      <view class="stat-label">可用器材</view>
    </view>
    <view class="stat-card borrowed" bindtap="goToManage" data-status="借出">
      <view class="stat-number">{{borrowedEquipments}}</view>
      <view class="stat-label">已借出</view>
    </view>
  </view>
  
  <!-- 最近活动 -->
  <view class="section">
    <view class="section-title">最近活动</view>
    <view class="activity-list" wx:if="{{recentActivities.length > 0}}">
      <view wx:for="{{recentActivities}}" wx:key="id" class="activity-item" bindtap="goToDetail" data-id="{{item.equipmentId}}">
        <view class="activity-icon activity-icon-{{item.type === '添加' ? 'add' : item.type === '借出' ? 'lend' : item.type === '归还' ? 'return' : 'delete'}}">
          {{item.type === '添加' ? '+' : item.type === '借出' ? '借' : item.type === '归还' ? '还' : '删'}}
        </view>
        <view class="activity-content">
          <view class="activity-text">{{item.content}}</view>
          <view class="activity-time">{{item.formattedTime}}</view>
        </view>
      </view>
    </view>
    
    <view class="no-activity" wx:else>
      <view class="empty-icon">📋</view>
      <view class="empty-text">暂无活动记录</view>
      <view class="empty-hint">添加或操作器材后将显示记录</view>
    </view>
  </view>
  
  <!-- 底部操作按钮 -->
  <view class="action-button" bindtap="toggleMenu">+</view>
  
  <!-- 操作菜单 -->
  <view class="action-menu {{isMenuOpen ? 'open' : ''}}">
    <view class="menu-item" bindtap="scanCode">
      <view class="menu-icon">扫</view>
      <view class="menu-text">扫码添加</view>
    </view>
    <view class="menu-item" bindtap="goToBatchAdd">
      <view class="menu-icon">批</view>
      <view class="menu-text">批量添加</view>
    </view>
    <view class="menu-item" bindtap="goToAddPage">
      <view class="menu-icon">单</view>
      <view class="menu-text">单个添加</view>
    </view>
  </view>
</view>
