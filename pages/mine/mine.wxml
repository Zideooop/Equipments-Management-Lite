<!-- 我的页面WXML -->
<view class="container">

  <!-- 用户信息卡片 -->
<!-- 修改后的用户信息卡片 -->
<view class="user-card" bindtap="{{userInfo ? '' : 'goToLogin'}}">
  <view class="user-avatar">
    <image 
      src="{{userInfo.avatarUrl || '/images/page/page-profile.png'}}" 
      mode="widthFix" 
      class="avatar-img"
      style="width: 80rpx; height: 80rpx;"
    />
  </view>
  <view class="user-info">
    <view class="user-name">{{userInfo.nickName || '未登录'}}</view>
    <view class="user-desc">{{userInfo ? '点击可修改个人信息' : '点击登录以使用完整功能'}}</view>
  </view>
  <view class="user-action" bindtap="{{userInfo ? 'goToProfile' : 'goToLogin'}}">
    <text>{{userInfo ? '编辑' : '登录'}}</text>
    <image 
      src="/images/function/func-arrow-right.png" 
      mode="widthFix" 
      class="arrow-icon"
      style="width: 32rpx; height: 32rpx;"
    />
  </view>
</view>





  <!-- 功能菜单区 -->
  <view class="function-list">
    <view class="function-item" bindtap="goToRecycleBin">
      <image 
        src="/images/page/page-recycle.png" 
        mode="widthFix" 
        class="function-icon recycle"
        style="width: 50rpx; height: 50rpx;"
      />
      <view class="function-text">回收站</view>
      <view class="function-badge">{{recycleCount}} 件</view>
      <image 
        src="/images/function/func-arrow-right.png" 
        mode="widthFix" 
        class="arrow-icon"
        style="width: 32rpx; height: 32rpx;"
      />
    </view>
    
    <view class="function-item" bindtap="syncData">
      <image 
        src="/images/function/func-sync.png" 
        mode="widthFix" 
        class="function-icon sync"
        style="width: 50rpx; height: 50rpx;"
      />
      <view class="function-text">数据同步</view>
      <view class="function-desc">{{lastSyncTime || '未同步'}}</view>
      <image 
        src="/images/function/func-arrow-right.png" 
        mode="widthFix" 
        class="arrow-icon"
        style="width: 32rpx; height: 32rpx;"
      />
    </view>
    
    <view class="function-item" bindtap="goToAbout">
      <image 
        src="/images/page/page-about.png" 
        mode="widthFix" 
        class="function-icon about"
        style="width: 50rpx; height: 50rpx;"
      />
      <view class="function-text">关于系统</view>
      <view class="function-desc">v1.2.0</view>
      
      <image 
        src="/images/function/func-arrow-right.png" 
        mode="widthFix" 
        class="arrow-icon"
        style="width: 32rpx; height: 32rpx;"
      />
    </view>
  </view>

  <!-- 退出登录按钮 -->
  <view wx:if="{{userInfo}}" class="logout-btn" bindtap="logout">
    <image 
      src="/images/page/page-logout.png" 
      mode="widthFix" 
      class="logout-icon"
      style="width: 50rpx; height: 50rpx;"
    />
    <text>退出登录</text>
  </view>
</view>
    