# 设备管理小程序

一款基于微信小程序云开发的设备管理系统，支持设备信息的增删改查及云端同步功能，适用于小型团队或个人的设备inventory管理。

## 开源声明

本项目采用 **MIT许可证** 开源，源代码可自由获取、修改和分发，但必须遵守以下原则：
- ✅ 允许个人免费下载，学习使用
- ✅ 允许基于本项目进行二次开发和修改
- ❌ **严禁任何形式的商业获利行为**，包括但不限于：
  - 收费售卖本项目或其衍生版本
  - 作为付费服务的一部分提供给他人使用
  - 通过植入广告、付费解锁功能等方式获利
- ❌ 禁止移除或修改本项目中的开源声明和版权信息
- ✅ 引用或使用本项目代码时，需保留原作者信息和许可证声明

任何违反上述原则的行为，项目作者保留追究法律责任的权利。

## 功能特点

- 📱 设备信息管理：支持添加、编辑、删除设备信息（名称、类型、规格、数量等）
- 🔄 云端同步：自动同步设备数据到云端，支持多端数据一致性
- 🔒 用户认证：基于微信登录的身份验证
- 📊 操作记录：自动记录设备操作日志
- 🗑️ 回收站功能：支持设备临时删除与恢复
- 🚀 离线可用：本地存储支持离线操作，联网后自动同步
- 📋 智能出入库管理：
  - 入库时自动关联最近出库记录，快速生成待核对清单
  - 出库时显示最近新增设备，支持一键添加
  - 双栏对比核对视图，直观展示应入/实入数量差异

## 技术栈

- 前端：微信小程序原生框架（WXML/WXSS/JavaScript）
- 后端：微信云开发（CloudBase）
  - 云函数：处理业务逻辑
  - 云数据库：存储设备数据
  - 云存储：存储图片等资源

## 项目结构
management-lite/
├── cloudfunctions/ # 云函数目录
│ └── equipmentManager/ # 设备管理主云函数
│ └── user/ # 用户相关云函数
├── miniprogram/ # 小程序前端代码
│ ├── pages/ # 页面目录
│ │ ├── index/ # 设备列表页
│ │ ├── detail/ # 设备详情页
│ │ ├── add/ # 添加设备页
│ │ ├── recycle/ # 回收站页面
│ │ └── mine/ # 个人中心页
│ ├── models/ # 数据模型
│ ├── utils/ # 工具函数
│ │ ├── AppUtils.js # 通用工具类
│ │ └── syncManager.js # 同步管理器
│ ├── images/ # 静态图片资源
│ └── app.js # 小程序入口文件
├── project.config.json # 项目配置
├── LICENSE # 许可证文件
└── README.md # 项目说明


## 部署步骤

### 前置条件
- 安装微信开发者工具（v1.06.25及以上版本）
- 注册微信小程序账号并获取AppID（测试号也可用于开发）
- 开通微信云开发服务（免费额度足够个人使用）

### 本地部署
1. 克隆仓库
   ```bash
   git clone https://github.com/your-username/equipment-management-miniprogram.git
   cd equipment-management-miniprogram

2.导入项目
打开微信开发者工具
点击 "导入项目"，选择项目目录
输入你的小程序 AppID（测试号可使用wx8963xxxxxx格式的 ID）

3.初始化云开发环境
在开发者工具中点击 "云开发" 按钮
创建新的云开发环境（建议使用cloudbase-xxxx格式命名）
在app.js中配置你的云环境 ID：
const CONFIG = {
  CLOUD_ENV: "你的云环境ID" // 替换为实际环境ID
};

4.部署云函数
右键cloudfunctions目录下的equipmentManager和user云函数
选择 "上传并部署：云端安装依赖"（首次部署可能需要 5-10 分钟）
创建数据库集合
在云开发控制台中进入 "数据库"
创建以下集合并配置权限为 "仅创建者可读写"：
equipment：存储设备数据
equipmentDeleted：存储删除记录
operationLogs：存储操作日志
inventoryLists：存储出入库清单

5.使用说明
登录：打开小程序后自动使用微信账号登录（无需注册）
设备列表：首页展示所有设备信息，支持下拉刷新和上拉加载
添加设备：点击 "+" 按钮，填写设备名称、类型、规格等信息后提交
编辑设备：点击设备项进入详情页，点击 "编辑" 按钮修改信息
删除设备：支持临时删除（移至回收站）和永久删除（需二次确认）
同步数据：个人中心点击 "同步数据" 按钮，或下拉刷新自动同步
出入库管理：在设备详情页点击 "入库" 或 "出库"，系统自动生成清单

6.开发计划
 增加设备分类统计功能（按类型 / 状态生成图表）
 实现设备借用 / 归还流程（支持设置借用期限和提醒）
 添加数据导出功能（支持导出为 Excel/CSV）
 优化 UI 设计（适配深色模式和不同屏幕尺寸）
 
7.许可证
详情参见 LICENSE 文件

8.联系方式
如有问题或建议，请联系：zideooop@gmail.com
如发现侵权行为，请通过上述邮箱举报。
